<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>AMS2 Renngenerator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    
    <link rel="manifest" href="manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <style>
    :root {
        --accent: #ff4400;
        --glass: rgba(6, 6, 12, 0.98);
    }

    * { 
        box-sizing: border-box; 
        -webkit-tap-highlight-color: transparent; 
    }
    
    body {
        margin: 0; 
        padding: 0; 
        font-family: 'Rajdhani', sans-serif;
        background: #020205;
        height: 100dvh;
        width: 100vw;
        display: flex; 
        justify-content: center; 
        align-items: center; 
        overflow: hidden;
    }

    .container-box {
        position: relative;
        padding: 3px;
        border-radius: 25px;
        overflow: hidden;
        width: 90vw; /* 5% Puffer links und rechts für den Rand */
        max-width: 380px; 
        max-height: 82dvh; /* Schutzpuffer für den unteren Rand */
        display: flex;
        flex-direction: column;
    }

    .container-box::before {
        content: ''; position: absolute; width: 200%; height: 200%;
        background: conic-gradient(transparent, var(--accent), transparent 30%);
        top: -50%; left: -50%;
        animation: rotateFrame 4s linear infinite;
    }

    @keyframes rotateFrame { to { transform: rotate(360deg); } }

    .container {
        background: var(--glass);
        border-radius: 22px;
        padding: 15px 0;
        width: 100%;
        height: 100%;
        text-align: center;
        position: relative;
        z-index: 11;
        display: flex;
        flex-direction: column;
        justify-content: space-between; /* Verteilt Title, Kreis, Karte und Button optimal */
    }

    h1 {
        font-family: 'Orbitron', sans-serif;
        font-size: 1rem;
        margin: 5px 0;
        text-shadow: 0 0 10px var(--accent);
    }

    .core-display {
        width: 70px; height: 70px;
        margin: 0 auto;
        border-radius: 50%;
        border: 1px solid rgba(255, 68, 0, 0.2);
        display: flex; align-items: center; justify-content: center;
        position: relative;
        background: rgba(0,0,0,0.5);
    }

    #suggestion-num {
        font-family: 'Orbitron'; font-size: 2.5rem; font-weight: 900;
        color: var(--accent); text-shadow: 0 0 15px var(--accent);
    }

    .loader-ring {
        position: absolute; width: 100%; height: 100%;
        border: 3px solid transparent; border-top-color: var(--accent);
        border-radius: 50%; display: none;
        animation: rotate 1.2s linear infinite;
    }
    @keyframes rotate { to { transform: rotate(360deg); } }

    .slider-wrapper { overflow: hidden; width: 100%; flex-grow: 1; display: flex; align-items: center; }
    .race-cards-container { display: flex; overflow-x: auto; scroll-snap-type: x mandatory; scrollbar-width: none; width: 100%; }
    .race-cards-container::-webkit-scrollbar { display: none; }
    .race-card { min-width: 100%; padding: 0 15px; scroll-snap-align: center; }

    .result-content {
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid rgba(255, 68, 0, 0.2);
        border-radius: 12px; 
        padding: 10px 15px;
        text-align: left;
    }

    .res-item { margin-bottom: 4px; border-left: 2px solid var(--accent); padding-left: 10px; }
    .res-item strong { display: block; font-size: 0.6rem; color: var(--accent); text-transform: uppercase; }
    .res-item span { font-size: 0.9rem; font-weight: 700; color: #fff; }

    .dots { display: flex; justify-content: center; gap: 8px; margin: 5px 0; }
    .dot { width: 6px; height: 6px; border-radius: 50%; background: rgba(255,255,255,0.15); }
    .dot.active { background: var(--accent); }

    /* DEIN BUTTON - WIEDER INTEGRIERT UND OPTIMIERT */
    button {
        background: linear-gradient(45deg, #111, #222);
        border: 1px solid var(--accent);
        color: var(--accent);
        padding: 14px;
        border-radius: 12px;
        font-family: 'Orbitron';
        font-weight: 900;
        width: 85%;
        margin: 5px auto 10px auto;
        text-transform: uppercase;
        letter-spacing: 2px;
        cursor: pointer;
    }
    
    button:active { transform: scale(0.98); }

    .status { font-family: 'Orbitron'; font-size: 0.7rem; color: var(--accent); margin: 5px 0; }
</style>
</head>
<body>

<div class="container-box">
    <div class="container">
        <h1>AMS2 Renngenerator</h1>
        <div class="core-display">
            <div class="loader-ring" id="loader"></div>
            <div class="standby-pulse" id="pulse"></div>
            <div id="suggestion-num">1</div>
        </div>
        <div id="status" class="status">SYSTEM STANDBY</div>
        <div class="slider-wrapper" id="wrapper">
            <div class="race-cards-container" id="slider"></div>
        </div>
        <div class="dots" id="dots">
            <div class="dot active"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
        <button id="genBtn">Rennen generieren</button>
    </div>
</div>

<script>
    const db = {
        classes: [
            { id: 'ARC', name: 'ARC' }, { id: 'CARRERA_CUP', name: 'Carrera Cup' }, { id: 'CATERHAM_620R', name: 'Caterham 620R' },
            { id: 'CATERHAM_ACADEMY', name: 'Caterham Academy' }, { id: 'CATERHAM_SUPERLIGHT', name: 'Caterham Superlight' }, { id: 'CATERHAM_SUPERSPORT', name: 'Caterham Supersport' },
            { id: 'COPA_CLASSIC_B', name: 'Copa Classic B' }, { id: 'COPA_CLASSIC_FL', name: 'Copa Classic FL' }, { id: 'COPA_FUSCA', name: 'Copa Fusca' },
            { id: 'COPA_MONTANA', name: 'Copa Montana' }, { id: 'COPA_TRUCK', name: 'Copa Truck' }, { id: 'COPA_UNO', name: 'Copa Uno' },
            { id: 'DPI', name: 'DPi' }, { id: 'FUSA_G1', name: 'Formula USA Gen 1' }, { id: 'FUSA_G2', name: 'Formula USA Gen 2' },
            { id: 'FUSA_G3', name: 'Formula USA Gen 3' }, { id: 'F3_BR', name: 'Formula 3 Brazil' }, { id: 'FCLASSIC_G1', name: 'Formula Classic Gen 1' },
            { id: 'FCLASSIC_G2', name: 'Formula Classic Gen 2' }, { id: 'FCLASSIC_G3', name: 'Formula Classic Gen 3' }, { id: 'FCLASSIC_G4', name: 'Formula Classic Gen 4' },
            { id: 'FHITECH_G1', name: 'Formula HiTech Gen 1' }, { id: 'FHITECH_G2', name: 'Formula HiTech Gen 2' }, { id: 'FDIRT', name: 'Formula Dirt' },
            { id: 'F_JUNIOR', name: 'Formula Junior' }, { id: 'FV8_G3', name: 'Formula V8 Gen 3' }, { id: 'FRETRO_G1', name: 'Formula Retro Gen 1' },
            { id: 'FRETRO_G2', name: 'Formula Retro Gen 2' }, { id: 'FRETRO_G3', name: 'Formula Retro Gen 3' }, { id: 'FULTI_G2', name: 'Formula Hybrid Gen 2' },
            { id: 'FULTI_G3', name: 'Formula Hybrid Gen 3' }, { id: 'FUSA_2023', name: 'Formula USA 2023' }, { id: 'FV10_G1', name: 'Formula V10 Gen 1' },
            { id: 'FV10_G2', name: 'Formula V10 Gen 2' }, { id: 'FV12', name: 'Formula V12' }, { id: 'FVINT_G1', name: 'Formula Vintage Gen 1' },
            { id: 'FVINT_G2', name: 'Formula Vintage Gen 2' }, { id: 'F_INTER', name: 'Formula Inter' }, { id: 'FVEE_G1', name: 'Formula Vee Brazil Gen 1' },
            { id: 'FVEE_G2', name: 'Formula Vee Brazil Gen 2' }, { id: 'FTRAIN', name: 'Formula Trainer' }, { id: 'FTRAIN_ADV', name: 'Formula Trainer Advanced' },
            { id: 'G40_CUP', name: 'Ginetta G40 Cup' }, { id: 'G55_SUPERCUP', name: 'Ginetta G55 Supercup' }, { id: 'GROUP_A', name: 'Group A' },
            { id: 'GROUP_C', name: 'Group C' }, { id: 'GT_CLASSIC', name: 'GT Classic' }, { id: 'GT_OPEN', name: 'GT Open' },
            { id: 'GT1', name: 'GT1' }, { id: 'GT1_05', name: 'GT1 2005' }, { id: 'GT2_05', name: 'GT2 2005' }, { id: 'GT3', name: 'GT3' },
            { id: 'GT3_G2', name: 'GT3 Gen 2' }, { id: 'GT4', name: 'GT4' }, { id: 'GT5', name: 'GT5' }, { id: 'GTE', name: 'GTE' },
            { id: 'GTR_04', name: 'GTR 2004' }, { id: 'HOT_CARS', name: 'Hot Cars' }, { id: 'HYPER', name: 'Hypercars' },
            { id: 'JCW', name: 'JCW' }, { id: 'KARTCROSS', name: 'Kartcross' }, { id: 'KART_2T_125', name: 'Karting 2T 125cc' },
            { id: 'KART_4T_RACE', name: 'Karting 4T Race' }, { id: 'KART_4T_RENT', name: 'Karting 4T Rental' }, { id: 'KART_2T_SHIFT', name: 'Karting 2T Shifter' },
            { id: 'LANCER', name: 'Lancer Cup' }, { id: 'LIGIER_ES', name: 'Ligier European Series' }, { id: 'LMDH', name: 'LMDh/GTP' },
            { id: 'LMP1_05', name: 'LMP1 2005' }, { id: 'LMP2_05', name: 'LMP2 2005' }, { id: 'LMP2_G1', name: 'LMP2 Gen 1' },
            { id: 'LMP2_G2', name: 'LMP2 Gen 2' }, { id: 'M1_PRO', name: 'M1 Procar' }, { id: 'OLD_STOCK', name: 'Old Stock Race' },
            { id: 'P1_G1', name: 'P1 Gen 1' }, { id: 'P1_G2', name: 'P1 Gen 2' }, { id: 'P2', name: 'P2' }, { id: 'P3', name: 'P3' }, { id: 'P4', name: 'P4' },
            { id: 'RX', name: 'Rallycross' }, { id: 'SPRINT', name: 'Sprint Race' }, { id: 'STOCK_79', name: 'Stock Car Brasil 1979' },
            { id: 'STOCK_86', name: 'Stock Car Brasil 1986' }, { id: 'STOCK_99', name: 'Stock Car Brasil 1999' }, { id: 'STOCK_19', name: 'Stock Car Brasil 2019' },
            { id: 'STOCK_20', name: 'Stock Car Brasil 2020' }, { id: 'STOCK_21', name: 'Stock Car Brasil 2021' }, { id: 'STOCK_PRO_22', name: 'Stock Car Pro Series 2022' },
            { id: 'STOCK_PRO_23', name: 'Stock Car Pro Series 2023' }, { id: 'STOCK_PRO_24', name: 'Stock Car Pro Series 2024' }, { id: 'STOCK_USA_G1', name: 'Stock USA Gen 1' },
            { id: 'STOCK_USA_G2', name: 'Stock USA Gen 2' }, { id: 'STOCK_USA_G3', name: 'Stock USA Gen 3' }, { id: 'STOCK_USA_LM', name: 'Stock USA Gen 3 LM' },
            { id: 'STREET', name: 'Street Cars' }, { id: 'SUPER_TROFEO', name: 'Super Trofeo' }, { id: 'DIABLO_ST', name: 'Diablo Super Trofeo' },
            { id: 'SUPERCARS', name: 'Supercars' }, { id: 'SUPER_KART', name: 'Super Kart' }, { id: 'S_TROPHY_TRUCK', name: 'Super Trophy Trucks' },
            { id: 'S_V8', name: 'Super V8' }, { id: 'TSI_CUP', name: 'TSI Cup' }, { id: 'VINTAGE_T1', name: 'Vintage Touring Cars Tier 1' },
            { id: 'VINTAGE_T2', name: 'Vintage Touring Cars Tier 2' }
        ],
        cars: [
            {n:"Aussie Racing Camaro",y:2019,c:"ARC"},{n:"Porsche 911 GT3 Cup 3.8",y:2016,c:"Carrera Cup"},{n:"Porsche 911 GT3 Cup 4.0",y:2019,c:"Carrera Cup"},{n:"Caterham 620R",y:2013,c:"Caterham 620R"},{n:"Caterham Academy",y:2015,c:"Caterham Academy"},{n:"Caterham Superlight",y:2017,c:"Caterham Superlight"},{n:"Caterham Supersport",y:2017,c:"Caterham Supersport"},{n:"Chevrolet Chevette",y:2011,c:"Copa Classic B"},{n:"Fiat Uno Classic B",y:2011,c:"Copa Classic B"},{n:"MINI Cooper S 1965 B",y:2011,c:"Copa Classic B"},{n:"Puma GTE",y:2011,c:"Copa Classic B"},{n:"Volkswagen Gol Classic B",y:2011,c:"Copa Classic B"},{n:"Volkswagen Passat Classic B",y:2011,c:"Copa Classic B"},{n:"Puma GTB",y:2011,c:"Copa Classic FL"},{n:"Volkswagen Fusca Classic FL",y:2011,c:"Copa Classic FL"},{n:"Volkswagen Gol Classic FL",y:2011,c:"Copa Classic FL"},{n:"Volkswagen Passat Classic FL",y:2011,c:"Copa Classic FL"},{n:"Volkswagen Fusca",y:2011,c:"Copa Fusca"},{n:"Chevrolet Montana",y:2010,c:"Copa Montana"},{n:"IVECO Stralis",y:2017,c:"Copa Truck"},{n:"MAN TGX",y:2017,c:"Copa Truck"},{n:"Mercedes-Benz Actros-2651",y:2017,c:"Copa Truck"},{n:"Vulkan Truck",y:2017,c:"Copa Truck"},{n:"Volkswagen Constellation",y:2017,c:"Copa Truck"},{n:"Fiat Uno",y:1995,c:"Copa Uno"},{n:"Cadillac DPi-V.R",y:2018,c:"DPi"},{n:"Lola T95/00 Ford-Cosworth",y:1995,c:"Formula USA Gen 1"},{n:"Lola T95/00 Mercedes-Benz",y:1995,c:"Formula USA Gen 1"},{n:"Reynard 95i Ford-Cosworth",y:1995,c:"Formula USA Gen 1"},{n:"Reynard 95i Honda",y:1995,c:"Formula USA Gen 1"},{n:"Reynard 95i Mercedes-Benz",y:1995,c:"Formula USA Gen 1"},{n:"Lola T98/00 Ford-Cosworth",y:1998,c:"Formula USA Gen 2"},{n:"Reynard 98i Ford-Cosworth",y:1998,c:"Formula USA Gen 2"},{n:"Reynard 98i Honda",y:1998,c:"Formula USA Gen 2"},{n:"Reynard 98i Mercedes-Benz",y:1998,c:"Formula USA Gen 2"},{n:"Reynard 98i Toyota",y:1998,c:"Formula USA Gen 2"},{n:"Swift 009c Ford-Cosworth",y:1998,c:"Formula USA Gen 2"},{n:"Lola B2K/00 Ford-Cosworth",y:2000,c:"Formula USA Gen 3"},{n:"Lola B2K/00 Mercedes-Benz",y:2000,c:"Formula USA Gen 3"},{n:"Lola B2K/00 Toyota",y:2000,c:"Formula USA Gen 3"},{n:"Reynard 2Ki Ford-Cosworth",y:2000,c:"Formula USA Gen 3"},{n:"Reynard 2Ki Honda",y:2000,c:"Formula USA Gen 3"},{n:"Reynard 2Ki Mercedes-Benz",y:2000,c:"Formula USA Gen 3"},{n:"Reynard 2Ki Toyota",y:2000,c:"Formula USA Gen 3"},{n:"F301",y:2001,c:"Formula 3 Brazil"},{n:"F309",y:2009,c:"Formula 3 Brazil"},{n:"Formula Classic Gen1 Model1",y:1986,c:"Formula Classic Gen 1"},{n:"Formula Classic Gen1 Model2",y:1986,c:"Formula Classic Gen 1"},{n:"Lotus 98T",y:1986,c:"Formula Classic Gen 1"},{n:"Formula Classic Gen2 Model1",y:1988,c:"Formula Classic Gen 2"},{n:"Formula Classic Gen2 Model2",y:1988,c:"Formula Classic Gen 2"},{n:"Formula Classic Gen2 Model3",y:1988,c:"Formula Classic Gen 2"},{n:"McLaren MP4/4",y:1988,c:"Formula Classic Gen 2"},{n:"Formula Classic Gen3 Model1",y:1990,c:"Formula Classic Gen 3"},{n:"Formula Classic Gen3 Model2",y:1990,c:"Formula Classic Gen 3"},{n:"Formula Classic Gen3 Model3",y:1990,c:"Formula Classic Gen 3"},{n:"Formula Classic Gen3 Model4",y:1990,c:"Formula Classic Gen 3"},{n:"McLaren MP4/5B",y:1990,c:"Formula Classic Gen 3"},{n:"Formula Classic Gen4 Model1",y:1991,c:"Formula Classic Gen 4"},{n:"Formula Classic Gen4 Model2",y:1991,c:"Formula Classic Gen 4"},{n:"Formula Classic Gen4 Model3",y:1991,c:"Formula Classic Gen 4"},{n:"McLaren MP4/6",y:1991,c:"Formula Classic Gen 4"},{n:"Formula HiTech Gen1 Model1",y:1992,c:"Formula HiTech Gen 1"},{n:"Formula HiTech Gen1 Model2",y:1992,c:"Formula HiTech Gen 1"},{n:"Formula HiTech Gen1 Model3",y:1992,c:"Formula HiTech Gen 1"},{n:"Formula HiTech Gen1 Model4",y:1992,c:"Formula HiTech Gen 1"},{n:"Formula HiTech Gen2 Model1",y:1993,c:"Formula HiTech Gen 2"},{n:"Formula HiTech Gen2 Model2",y:1993,c:"Formula HiTech Gen 2"},{n:"Formula HiTech Gen2 Model3",y:1993,c:"Formula HiTech Gen 2"},{n:"McLaren MP4/7A",y:1992,c:"Formula HiTech Gen 1"},{n:"McLaren MP4/8",y:1993,c:"Formula HiTech Gen 2"},{n:"Formula Dirt",y:2014,c:"Formula Dirt"},{n:"Formula Junior",y:1962,c:"Formula Junior"},{n:"Formula V8 Gen3",y:2011,c:"Formula V8 Gen 3"},{n:"Brabham BT44",y:1974,c:"Formula Retro Gen 1"},{n:"Formula Retro V12",y:1974,c:"Formula Retro Gen 1"},{n:"Formula Retro V8",y:1974,c:"Formula Retro Gen 1"},{n:"Lotus Type 72E",y:1974,c:"Formula Retro Gen 1"},{n:"McLaren M23",y:1974,c:"Formula Retro Gen 1"},{n:"Brabham BT46B",y:1978,c:"Formula Retro Gen 2"},{n:"Brabham BT49",y:1979,c:"Formula Retro Gen 2"},{n:"Formula Retro Gen2",y:1978,c:"Formula Retro Gen 2"},{n:"Lotus 79",y:1978,c:"Formula Retro Gen 2"},{n:"Brabham BT52",y:1983,c:"Formula Retro Gen 3"},{n:"Formula Retro Gen3 DFY",y:1983,c:"Formula Retro Gen 3"},{n:"Formula Retro Gen3 Turbo",y:1983,c:"Formula Retro Gen 3"},{n:"McLaren MP4/1C",y:1983,c:"Formula Retro Gen 3"},{n:"Formula Ultimate Hybrid Gen2",y:2019,c:"Formula Hybrid Gen 2"},{n:"Formula Ultimate Hybrid Gen3",y:2022,c:"Formula Hybrid Gen 3"},{n:"Formula USA 2023",y:2023,c:"Formula USA 2023"},{n:"Formula V10 Gen1",y:1997,c:"Formula V10 Gen 1"},{n:"McLaren MP4/12",y:1997,c:"Formula V10 Gen 1"},{n:"Formula V10 Gen2",y:2000,c:"Formula V10 Gen 2"},{n:"Formula V12",y:1995,c:"Formula V12"},{n:"Formula Vintage Gen1 Model1",y:1967,c:"Formula Vintage Gen 1"},{n:"Formula Vintage Gen1 Model2",y:1967,c:"Formula Vintage Gen 1"},{n:"Brabham BT26A",y:1969,c:"Formula Vintage Gen 2"},{n:"Formula Vintage Gen2 Model1",y:1969,c:"Formula Vintage Gen 2"},{n:"Formula Vintage Gen2 Model2",y:1969,c:"Formula Vintage Gen 2"},{n:"Lotus Type 49C",y:1970,c:"Formula Vintage Gen 2"},{n:"Fórmula Inter MG15",y:2015,c:"Formula Inter"},{n:"Formula Vee Gen1",y:2011,c:"Formula Vee Brazil Gen 1"},{n:"Formula Vee Gen1 Fin",y:2019,c:"Formula Vee Brazil Gen 1"},{n:"Formula Vee Gen2",y:2025,c:"Formula Vee Brazil Gen 2"},{n:"Formula Trainer",y:2015,c:"Formula Trainer"},{n:"Formula Trainer Advanced",y:2015,c:"Formula Trainer Advanced"},{n:"Ginetta G40",y:2010,c:"Ginetta G40 Cup"},{n:"Ginetta G55",y:2011,c:"Ginetta G55 Supercup"},{n:"Audi V8 quattro DTM",y:1992,c:"Group A"},{n:"BMW M3 Sport Evo GrA",y:1992,c:"Group A"},{n:"Mercedes-Benz 190E EVO 2 DTM",y:1992,c:"Group A"},{n:"Chevrolet Corvette GTP",y:1988,c:"Group C"},{n:"Nissan R89C",y:1989,c:"Group C"},{n:"Porsche 962C",y:1987,c:"Group C"},{n:"Sauber Mercedes C9",y:1989,c:"Group C"},{n:"Chevrolet Corvette C3.R",y:1971,c:"GT Classic"},{n:"Chevrolet Corvette C3.R Convertible",y:1971,c:"GT Classic"},{n:"Porsche 911 RSR",y:1974,c:"GT Classic"},{n:"Ginetta G55 GT3",y:2011,c:"GT Open"},{n:"Ultima GTR Race",y:2006,c:"GT Open"},{n:"McLaren F1 GTR",y:1997,c:"GT1"},{n:"Mercedes-Benz CLK LM",y:1998,c:"GT1"},{n:"Nissan R390 GT1",y:1997,c:"GT1"},{n:"Porsche 911 GT1-98",y:1998,c:"GT1"},{n:"Aston Martin DBR9",y:2005,c:"GT1 2005"},{n:"Chevrolet Corvette C5-R",y:2005,c:"GT1 2005"},{n:"Dodge Viper GTS-R",y:2005,c:"GT1 2005"},{n:"Lamborghini Murcielago R-GT",y:2004,c:"GT1 2005"},{n:"Maserati MC12 GT1",y:2005,c:"GT1 2005"},{n:"Milano GT36",y:2005,c:"GT2 2005"},{n:"Porsche 996 GT3 RSR",y:2005,c:"GT2 2005"},{n:"Audi R8 LMS GT3",y:2015,c:"GT3"},{n:"BMW M6 GT3",y:2017,c:"GT3"},{n:"McLaren 720S",y:2019,c:"GT3"},{n:"Mercedes-AMG GT3",y:2015,c:"GT3"},{n:"Nissan GT-R Nismo GT3",y:2017,c:"GT3"},{n:"Porsche 911 GT3 R",y:2018,c:"GT3"},{n:"Aston Martin Vantage GT3 EVO",y:2024,c:"GT3 Gen 2"},{n:"Audi R8 LMS GT3 evo II",y:2022,c:"GT3 Gen 2"},{n:"BMW M4 GT3",y:2022,c:"GT3 Gen 2"},{n:"Chevrolet Corvette Z06 GT3.R",y:2024,c:"GT3 Gen 2"},{n:"Lamborghini Huracan GT3 EVO2",y:2023,c:"GT3 Gen 2"},{n:"McLaren 720S GT3 EVO",y:2023,c:"GT3 Gen 2"},{n:"Mercedes-AMG GT3 EVO",y:2023,c:"GT3 Gen 2"},{n:"Porsche 992 GT3-R",y:2023,c:"GT3 Gen 2"},{n:"Alpine A110 GT4 EVO",y:2023,c:"GT4"},{n:"Aston Martin Vantage GT4 EVO",y:2024,c:"GT4"},{n:"Audi R8 LMS GT4",y:2020,c:"GT4"},{n:"BMW M4 GT4",y:2018,c:"GT4"},{n:"Chevrolet Camaro GT4.R",y:2017,c:"GT4"},{n:"Ginetta G55 GT4",y:2012,c:"GT4"},{n:"McLaren 570S",y:2016,c:"GT4"},{n:"Mercedes-AMG GT4",y:2019,c:"GT4"},{n:"Porsche Cayman GT4 Clubsport MR",y:2016,c:"GT4"},{n:"Ginetta G40",y:2011,c:"GT5"},{n:"Puma P052",y:2017,c:"GT5"},{n:"Aston Martin Vantage GTE",y:2018,c:"GTE"},{n:"BMW M8 GTE",y:2017,c:"GTE"},{n:"Chevrolet Corvette C8.R",y:2020,c:"GTE"},{n:"Porsche 911 RSR-19",y:2019,c:"GTE"},{n:"BMW M3 E46 GTR",y:2004,c:"GTR 2004"},{n:"Volkswagen Fusca 1 Hot Cars",y:1983,c:"Hot Cars"},{n:"Volkswagen Fusca 2 Hot Cars",y:1983,c:"Hot Cars"},{n:"Volkswagen Gol Hot Cars",y:1983,c:"Hot Cars"},{n:"Volkswagen Passat Hot Cars",y:1983,c:"Hot Cars"},{n:"Aston Martin Valkyrie",y:2021,c:"Hypercars"},{n:"Brabham BT62",y:2022,c:"Hypercars"},{n:"Lamborghini Veneno Roadster",y:2013,c:"Hypercars"},{n:"Lamborghini Revuelto",y:2023,c:"Hypercars"},{n:"McLaren Senna",y:2022,c:"Hypercars"},{n:"MINI Cooper",y:2014,c:"JCW"},{n:"Kartcross",y:2016,c:"Kartcross"},{n:"Kart 2-Stroke 125cc Direct",y:2016,c:"Karting 2T 125cc"},{n:"Kart 4-Stroke Race",y:2016,c:"Karting 4T Race"},{n:"Kart 4-Stroke Rental",y:2016,c:"Karting 4T Rental"},{n:"Kart 2-Stroke 125cc Shifter",y:2016,c:"Karting 2T Shifter"},{n:"Mitsubishi Lancer R",y:2007,c:"Lancer Cup"},{n:"Mitsubishi Lancer RS",y:2007,c:"Lancer Cup"},{n:"Ligier JS2 R",y:2019,c:"Ligier European Series"},{n:"Ligier JS P4",y:2019,c:"Ligier European Series"},{n:"Alpine A424",y:2024,c:"LMDh/GTP"},{n:"Aston Martin Valkyrie Hypercar",y:2024,c:"LMDh/GTP"},{n:"BMW M Hybrid V8",y:2023,c:"LMDh/GTP"},{n:"Cadillac V-Series.R",y:2023,c:"LMDh/GTP"},{n:"Lamborghini SC63",y:2024,c:"LMDh/GTP"},{n:"Porsche 963",y:2023,c:"LMDh/GTP"},{n:"Audi R8 LMP1",y:2005,c:"LMP1 2005"},{n:"Courage C60 Hybrid",y:2005,c:"LMP1 2005"},{n:"Dallara SP1",y:2005,c:"LMP1 2005"},{n:"Lola B05/40 Turbo",y:2005,c:"LMP2 2005"},{n:"Lola B05/40 V8",y:2005,c:"LMP2 2005"},{n:"Ligier JS P217",y:2017,c:"LMP2 Gen 1"},{n:"Oreca 07",y:2017,c:"LMP2 Gen 1"},{n:"Ligier JS P217",y:2024,c:"LMP2 Gen 2"},{n:"Oreca 07",y:2024,c:"LMP2 Gen 2"},{n:"BMW M1 Procar",y:1979,c:"M1 Procar"},{n:"Chevrolet Opala",y:2014,c:"Old Stock Race"},{n:"Ginetta G58",y:2018,c:"P1 Gen 1"},{n:"Metalmoro AJR Judd",y:2017,c:"P1 Gen 1"},{n:"Metalmoro AJR Nissan",y:2017,c:"P1 Gen 1"},{n:"Metalmoro AJR Honda",y:2017,c:"P1 Gen 1"},{n:"Metalmoro AJR Chevrolet",y:2017,c:"P1 Gen 1"},{n:"Ligier JS P320",y:2020,c:"P1 Gen 2"},{n:"Metalmoro AJR Gen2 Chevrolet",y:2023,c:"P1 Gen 2"},{n:"Metalmoro AJR Gen2 Honda",y:2023,c:"P1 Gen 2"},{n:"Metalmoro AJR Gen2 Nissan",y:2023,c:"P1 Gen 2"},{n:"Ginetta G58 Gen2",y:2023,c:"P1 Gen 2"},{n:"Sigma P1 G5",y:2023,c:"P1 Gen 2"},{n:"Metalmoro MRX Duratec P2",y:2018,c:"P2"},{n:"Sigma P1",y:2017,c:"P2"},{n:"Metalmoro MRX Honda P3",y:2009,c:"P3"},{n:"Metalmoro MRX Duratec P3",y:2009,c:"P3"},{n:"Roco 001",y:2018,c:"P3"},{n:"MCR S2000",y:2013,c:"P4"},{n:"Metalmoro MRX Duratec P4",y:2009,c:"P4"},{n:"Citroen DS3RX",y:2016,c:"Rallycross"},{n:"Mini Countryman R60 RX",y:2016,c:"Rallycross"},{n:"Mitsubishi Lancer Evo10 RX",y:2013,c:"Rallycross"},{n:"Volkswagen Polo RX",y:2016,c:"Rallycross"},{n:"Sprint Race",y:2016,c:"Sprint Race"},{n:"Chevrolet Opala Stock Cars 1979",y:1979,c:"Stock Car Brasil 1979"},{n:"Chevrolet Opala Stock Cars 1986",y:1986,c:"Stock Car Brasil 1986"},{n:"Chevrolet Omega Stock Car 1999",y:1999,c:"Stock Car Brasil 1999"},{n:"Chevrolet Cruze Stock Car 2019",y:2019,c:"Stock Car Brasil 2019"},{n:"Chevrolet Cruze Stock Car 2020",y:2020,c:"Stock Car Brasil 2020"},{n:"Toyota Corolla Stock Car 2020",y:2020,c:"Stock Car Brasil 2020"},{n:"Chevrolet Cruze Stock Car 2021",y:2021,c:"Stock Car Brasil 2021"},{n:"Toyota Corolla Stock Car 2021",y:2021,c:"Stock Car Brasil 2021"},{n:"Chevrolet Cruze Stock Car 2022",y:2022,c:"Stock Car Pro Series 2022"},{n:"Toyota Corolla Stock Car 2022",y:2022,c:"Stock Car Pro Series 2022"},{n:"Chevrolet Cruze Stock Car 2023",y:2023,c:"Stock Car Pro Series 2023"},{n:"Toyota Corolla Stock Car 2023",y:2023,c:"Stock Car Pro Series 2023"},{n:"Chevrolet Cruze Stock Car 2024",y:2024,c:"Stock Car Pro Series 2024"},{n:"Toyota Corolla Stock Car 2024",y:2024,c:"Stock Car Pro Series 2024"},{n:"Stock USA Gen1",y:1990,c:"Stock USA Gen 1"},{n:"Stock USA Gen2",y:2000,c:"Stock USA Gen 2"},{n:"Stock USA Gen3",y:2020,c:"Stock USA Gen 3"},{n:"Stock USA Gen3 LM",y:2023,c:"Stock USA Gen 3 LM"},{n:"Chevrolet Camaro SS",y:2019,c:"Street Cars"},{n:"Lamborghini Huracan Super Trofeo EVO2",y:2022,c:"Super Trofeo"},{n:"Lamborghini Diablo SV-R Super Trofeo",y:1996,c:"Diablo Super Trofeo"},{n:"Audi R8 V10 GT",y:2015,c:"Supercars"},{n:"Chevrolet Corvette C8 Z06",y:2022,c:"Supercars"},{n:"Dodge Viper ACR",y:2016,c:"Supercars"},{n:"Maserati GT2 Stradale",y:2023,c:"Supercars"},{n:"McLaren F1 LM",y:1995,c:"Supercars"},{n:"Ultima GTR (640)",y:2000,c:"Supercars"},{n:"Super Kart 250cc",y:2019,c:"Super Kart"},{n:"Super Trophy Truck",y:2018,c:"Super Trophy Trucks"},{n:"Super V8 (Gen2 ZB)",y:2018,c:"Super V8"},{n:"Volkswagen Polo",y:2021,c:"TSI Cup"},{n:"Volkswagen Polo GTS",y:2021,c:"TSI Cup"},{n:"Volkswagen Virtus",y:2021,c:"TSI Cup"},{n:"Volkswagen Virtus GTS",y:2021,c:"TSI Cup"},{n:"BMW 2002 Turbo",y:1973,c:"Vintage Touring Cars Tier 1"},{n:"Chevrolet Corvette C3",y:1973,c:"Vintage Touring Cars Tier 1"},{n:"Lamborghini Miura SV",y:1971,c:"Vintage Touring Cars Tier 1"},{n:"Lotus 23",y:1962,c:"Vintage Touring Cars Tier 2"},{n:"MINI Cooper S",y:1965,c:"Vintage Touring Cars Tier 2"}
        ],
  tracks: [
            {l:"Australia",t:"Adelaide",la:"Adelaide Historic 1988",g:"Historic"},{l:"Australia",t:"Adelaide",la:"Adelaide",g:"Grade 3"},{l:"Australia",t:"Adelaide",la:"Adelaide STT",g:"Grade 3"},{l:"Brazil",t:"Ascurra",la:"Ascurra Dirt",g:"Off-road"},{l:"Brazil",t:"Ascurra",la:"Ascurra RX",g:"Off-road"},{l:"Monaco",t:"Azure Circuit",la:"Azure Circuit",g:"Grade 1"},{l:"Spain",t:"Barcelona",la:"Barcelona 1991",g:"Historic"},{l:"Spain",t:"Barcelona",la:"Circuit de Barcelona-Catalunya GP",g:"Grade 1"},{l:"Spain",t:"Barcelona",la:"Circuit de Barcelona-Catalunya GP (No Chicane)",g:"Grade 1"},{l:"Spain",t:"Barcelona",la:"Circuit de Barcelona-Catalunya National",g:"Grade 1"},{l:"Spain",t:"Barcelona",la:"Circuit de Barcelona-Catalunya RX",g:"Off-road"},{l:"Australia",t:"Bathurst",la:"Bathurst 1983",g:"Historic"},{l:"Australia",t:"Bathurst",la:"Bathurst 2020",g:"Grade 3"},{l:"England",t:"Brands Hatch",la:"Brands Hatch GP",g:"Grade 2"},{l:"England",t:"Brands Hatch",la:"Brands Hatch Indy",g:"Ungraded"},{l:"Brazil",t:"Brasilia",la:"Brasilia Full",g:"Ungraded"},{l:"Brazil",t:"Brasilia",la:"Brasilia Outer",g:"Ungraded"},{l:"Argentina",t:"Buenos Aires",la:"Buenos Aires Circuito No.12",g:"Grade 1"},{l:"Argentina",t:"Buenos Aires",la:"Buenos Aires Circuito No.15",g:"Grade 1"},{l:"Argentina",t:"Buenos Aires",la:"Buenos Aires Circuito No.6",g:"Grade 1"},{l:"Argentina",t:"Buenos Aires",la:"Buenos Aires Circuito No.6S",g:"Grade 1"},{l:"Argentina",t:"Buenos Aires",la:"Buenos Aires Circuito No.7",g:"Grade 1"},{l:"Argentina",t:"Buenos Aires",la:"Buenos Aires Circuito No.8",g:"Grade 1"},{l:"Argentina",t:"Buenos Aires",la:"Buenos Aires Circuito No.9",g:"Grade 1"},{l:"Norway",t:"Buskerud",la:"Buskerud Kart Long",g:"Kart"},{l:"Norway",t:"Buskerud",la:"Buskerud Kart",g:"Kart"},{l:"England",t:"Cadwell Park",la:"Cadwell Park",g:"Ungraded"},{l:"Brazil",t:"Campo Grande",la:"Campo Grande",g:"Grade 3"},{l:"Brazil",t:"Cascavel",la:"Cascavel",g:"Grade 3"},{l:"USA",t:"Cleveland",la:"Cleveland GP",g:"Ungraded"},{l:"USA",t:"Cleveland",la:"Cleveland STT",g:"Temporary"},{l:"Argentina",t:"Córdoba",la:"Córdoba TC",g:"Ungraded"},{l:"Argentina",t:"Córdoba",la:"Córdoba No.4",g:"Ungraded"},{l:"Argentina",t:"Córdoba",la:"Córdoba No.2",g:"Ungraded"},{l:"Brazil",t:"Curitiba",la:"Curitiba",g:"Grade 3"},{l:"Brazil",t:"Curitiba",la:"Curitiba Outer",g:"Ungraded"},{l:"Brazil",t:"Curvelo",la:"Curvelo Long",g:"Grade 2"},{l:"Brazil",t:"Curvelo",la:"Curvelo Short",g:"Ungraded"},{l:"USA",t:"Daytona",la:"Daytona Nascar Tri-Oval",g:"Grade 3"},{l:"USA",t:"Daytona",la:"Daytona Sports Car Course",g:"Grade 3"},{l:"USA",t:"Daytona",la:"Daytona Nascar Road Course",g:"Grade 3"},{l:"England",t:"Donington Park",la:"Donington GP",g:"Grade 2"},{l:"England",t:"Donington Park",la:"Donington National",g:"Ungraded"},{l:"Portugal",t:"Cascais (Estoril)",la:"Cascais Historic 1988",g:"Historic"},{l:"Portugal",t:"Cascais (Estoril)",la:"Cascais",g:"Grade 1"},{l:"Portugal",t:"Cascais (Estoril)",la:"Cascais Alternate",g:"Grade 3"},{l:"USA",t:"Fontana",la:"Auto Club Speedway Oval",g:"Grade 2"},{l:"USA",t:"Fontana",la:"Auto Club Speedway Sports Car Course",g:"Grade 2"},{l:"Brazil",t:"Foz",la:"Foz",g:"Off-road"},{l:"Brazil",t:"Galeao Airport",la:"Galeao Airport",g:"Ungraded"},{l:"USA",t:"Gateway",la:"WWT Raceway Oval",g:"Grade 2"},{l:"USA",t:"Gateway",la:"WWT Raceway Road Course (Short)",g:"Grade 2"},{l:"USA",t:"Gateway",la:"WWT Raceway Road Course (Long)",g:"Grade 2"},{l:"Brazil",t:"Goiânia",la:"Goiânia",g:"Grade 4"},{l:"Brazil",t:"Goiânia",la:"Goiânia External",g:"Ungraded"},{l:"Brazil",t:"Goiânia",la:"Goiânia Short",g:"Ungraded"},{l:"Brazil",t:"Granja Viana",la:"Copa São Paulo Stage 1",g:"Kart"},{l:"Brazil",t:"Granja Viana",la:"Copa São Paulo Kart Stage 2",g:"Kart"},{l:"Brazil",t:"Granja Viana",la:"Granja Viana Kart 101",g:"Kart"},{l:"Brazil",t:"Granja Viana",la:"Granja Viana Kart 102",g:"Kart"},{l:"Brazil",t:"Granja Viana",la:"Granja Viana Kart 121",g:"Kart"},{l:"Brazil",t:"Guaporé",la:"Guaporé",g:"Ungraded"},{l:"Brazil",t:"Guaporé",la:"Guaporé STT",g:"Grade 3"},{l:"Germany",t:"Hockenheimring",la:"Hockenheim Historic 1977",g:"Historic"},{l:"Germany",t:"Hockenheimring",la:"Hockenheim Historic 1988",g:"Historic"},{l:"Germany",t:"Hockenheimring",la:"Hockenheim Historic 1988 Short",g:"Historic Alternate"},{l:"Germany",t:"Hockenheimring",la:"Hockenheim Historic 2001",g:"Historic"},{l:"Germany",t:"Hockenheimring",la:"Hockenheim",g:"Grade 1"},{l:"Germany",t:"Hockenheimring",la:"Hockenheim National",g:"Ungraded"},{l:"Germany",t:"Hockenheimring",la:"Hockenheim RX",g:"Off-road"},{l:"Germany",t:"Hockenheimring",la:"Hockenheim Short A",g:"Ungraded"},{l:"Germany",t:"Hockenheimring",la:"Hockenheim STT",g:"Grade 3"},{l:"Germany",t:"Hockenheimring",la:"Hockenheim Short B",g:"Ungraded"},{l:"Ecuador",t:"Ibarra",la:"Autódromo Yahuarcocha",g:"Grade 4"},{l:"Ecuador",t:"Ibarra",la:"Autódromo Yahuarcocha Reverse",g:"Grade 4"},{l:"Ecuador",t:"Ibarra",la:"Autódromo Yahuarcocha STT",g:"Grade 4"},{l:"Italy",t:"Imola",la:"Imola",g:"Grade 1"},{l:"Italy",t:"Imola",la:"Imola Historic 2001",g:"Historic"},{l:"Italy",t:"Imola",la:"Imola Historic 1972",g:"Historic"},{l:"Italy",t:"Imola",la:"Imola Historic 1988",g:"Historic"},{l:"USA",t:"Indianapolis",la:"Indianapolis Motor Speedway Oval",g:"Grade 1"},{l:"USA",t:"Indianapolis",la:"Indianapolis Motor Speedway Road Course",g:"Grade 1"},{l:"Brazil",t:"Interlagos",la:"Interlagos GP",g:"Grade 1"},{l:"Brazil",t:"Interlagos",la:"Interlagos Kart One",g:"Kart"},{l:"Brazil",t:"Interlagos",la:"Interlagos Kart Two",g:"Kart"},{l:"Brazil",t:"Interlagos",la:"Interlagos Kart Three",g:"Kart"},{l:"Brazil",t:"Interlagos",la:"Interlagos 1991",g:"Historic"},{l:"Brazil",t:"Interlagos",la:"Interlagos 1993",g:"Historic"},{l:"Brazil",t:"Interlagos",la:"Interlagos Historic 1976",g:"Historic"},{l:"Brazil",t:"Interlagos",la:"Interlagos Historic 1978 Outer",g:"Historic Alternate"},{l:"Brazil",t:"Interlagos",la:"Interlagos Stock Car Brasil",g:"Grade 1"},{l:"Brazil",t:"Jacarepaguá",la:"Jacarepaguá Historic 2005",g:"Historic"},{l:"Brazil",t:"Jacarepaguá",la:"Jacarepaguá Historic 2005 Oval",g:"Historic"},{l:"Brazil",t:"Jacarepaguá",la:"Jacarepaguá Historic 2012 SCB",g:"Historic"},{l:"Brazil",t:"Jacarepaguá",la:"Jacarepaguá Historic 2012 Short",g:"Historic"},{l:"Brazil",t:"Jacarepaguá",la:"Jacarepaguá Historic 1988",g:"Historic"},{l:"Spain",t:"Jerez",la:"Jerez Historic 1988",g:"Grade 1"},{l:"Spain",t:"Jerez",la:"Jerez Moto",g:"Grade 1"},{l:"Spain",t:"Jerez",la:"Jerez Chicane",g:"Ungraded"},{l:"Japan",t:"Kansai (Suzuka)",la:"Kansai Classic",g:"Historic"},{l:"Japan",t:"Kansai (Suzuka)",la:"Kansai East",g:"Ungraded"},{l:"Japan",t:"Kansai (Suzuka)",la:"Kansai GP",g:"Grade 1"},{l:"Japan",t:"Kansai (Suzuka)",la:"Kansai West",g:"Ungraded"},{l:"South Africa",t:"Kyalami",la:"Kyalami",g:"Grade 2"},{l:"South Africa",t:"Kyalami",la:"Kyalami Historic 1976",g:"Historic"},{l:"USA",t:"Laguna Seca",la:"Laguna Seca 2020",g:"Grade 2"},{l:"France",t:"La Sarthe",la:"Le Mans 24h",g:"Grade 2"},{l:"France",t:"La Sarthe",la:"Le Mans 24h 2005",g:"Grade 2"},{l:"France",t:"La Sarthe",la:"Le Mans Circuit Bugatti",g:"Grade 2"},{l:"Brazil",t:"Londrina",la:"Londrina Short",g:"Grade 3"},{l:"Brazil",t:"Londrina",la:"Londrina Kart One",g:"Kart"},{l:"Brazil",t:"Londrina",la:"Londrina Kart Two",g:"Kart"},{l:"Brazil",t:"Londrina",la:"LondrinaKart3",g:"Kart"},{l:"Brazil",t:"Londrina",la:"Londrina Long",g:"Ungraded"},{l:"USA",t:"Long Beach",la:"Long Beach",g:"Grade 3"},{l:"USA",t:"Long Beach",la:"Long Beach STT",g:"Grade 3"},{l:"Canada",t:"Montreal",la:"Montréal Historic 1988",g:"Historic"},{l:"Canada",t:"Montreal",la:"Montreal Historic 1991",g:"Historic"},{l:"Canada",t:"Montreal",la:"Montréal",g:"Grade 1"},{l:"Italy",t:"Monza",la:"Monza Historic 1971",g:"Historic"},{l:"Italy",t:"Monza",la:"Monza Historic 1971 10k",g:"Historic Alternate"},{l:"Italy",t:"Monza",la:"Monza Historic 1971 10k (no chicane)",g:"Historic Alternate"},{l:"Italy",t:"Monza",la:"Monza Historic 1971 Junior",g:"Historic Alternate"},{l:"Italy",t:"Monza",la:"Monza Historic 1991",g:"Historic"},{l:"Italy",t:"Monza",la:"Monza",g:"Grade 1"},{l:"Italy",t:"Monza",la:"Monza Junior",g:"Ungraded"},{l:"Italy",t:"Monza",la:"Monza STT",g:"Grade 3"},{l:"Germany",t:"Nürburgring",la:"Nordschleife 2020",g:"Grade 3"},{l:"Germany",t:"Nürburgring",la:"Nordschleife 24 Hour 2020",g:"Grade 3"},{l:"Germany",t:"Nürburgring",la:"Nordschleife 2025",g:"Grade 3"},{l:"Germany",t:"Nürburgring",la:"Nordschleife 2025 24hr",g:"Grade 3"},{l:"Germany",t:"Nürburgring",la:"Nordschleife Tourist 2025",g:"Grade 3"},{l:"Germany",t:"Nürburgring",la:"Gesamtstrecke Historic 1971",g:"Historic"},{l:"Germany",t:"Nürburgring",la:"Nordschleife Historic 1971",g:"Historic"},{l:"Germany",t:"Nürburgring",la:"Südscheleife Historic 1971",g:"Historic"},{l:"Germany",t:"Nürburgring",la:"Betonschleife Historic 1971",g:"Historic"},{l:"Germany",t:"Nürburgring",la:"Nürburgring RX",g:"Off-road"},{l:"Germany",t:"Nürburgring",la:"Nürburgring GP 2020",g:"Grade 1"},{l:"Germany",t:"Nürburgring",la:"Nurburgring GP 2025",g:"Grade 3"},{l:"Germany",t:"Nürburgring",la:"Nürburgring Sprint 2020",g:"Ungraded"},{l:"Germany",t:"Nürburgring",la:"Nürburgring Sprint S 2020",g:"Ungraded"},{l:"Germany",t:"Nürburgring",la:"Nürburgring Veedol 2020",g:"Ungraded"},{l:"Italy",t:"Ortona",la:"Ortona Kart One",g:"Kart"},{l:"Italy",t:"Ortona",la:"Ortona Kart Two",g:"Kart"},{l:"Italy",t:"Ortona",la:"Ortona Kart Three",g:"Kart"},{l:"Italy",t:"Ortona",la:"Ortona Kart Four",g:"Kart"},{l:"England",t:"Oulton Park",la:"Oulton Park International",g:"Grade 3"},{l:"England",t:"Oulton Park",la:"Oulton Park Classic",g:"Historic"},{l:"England",t:"Oulton Park",la:"Oulton Park Fosters",g:"Ungraded"},{l:"England",t:"Oulton Park",la:"Oulton Park Island",g:"Ungraded"},{l:"USA",t:"Pocono",la:"Pocono Southeast Course 5",g:"Grade 2"},{l:"USA",t:"Pocono",la:"Pocono East Course 1",g:"Grade 2"},{l:"USA",t:"Pocono",la:"Pocono North/South Course 1 (No Chicane)",g:"Grade 2"},{l:"USA",t:"Pocono",la:"Pocono North/South Course 1",g:"Grade 2"},{l:"USA",t:"Pocono",la:"Pocono Oval",g:"Oval"},{l:"USA",t:"Pocono",la:"Pocono North/South Course 2",g:"Grade 2"},{l:"USA",t:"Pocono",la:"Pocono Southeast Course 1",g:"Grade 2"},{l:"USA",t:"Road America",la:"Road America",g:"Grade 2"},{l:"USA",t:"Road America",la:"Road America (Bend)",g:"Grade 2"},{l:"USA",t:"Road America",la:"Road America STT",g:"Grade 2"},{l:"USA",t:"Road Atlanta",la:"Road Atlanta",g:"Grade 2"},{l:"USA",t:"Road Atlanta",la:"Road Atlanta 2005",g:"Grade 2"},{l:"USA",t:"Road Atlanta",la:"Road Atlanta 2005 Short",g:"Grade 2"},{l:"USA",t:"Road Atlanta",la:"Road Atlanta Moto",g:"Grade 2"},{l:"Brazil",t:"Salvador",la:"Salvador Street Circuit",g:"Grade 3"},{l:"Brazil",t:"Santa Cruz do Sul",la:"Santa Cruz do Sul",g:"Grade 4"},{l:"USA",t:"Sebring",la:"Sebring",g:"Grade 2"},{l:"USA",t:"Sebring",la:"Sebring Club",g:"Grade 2"},{l:"USA",t:"Sebring",la:"Sebring School",g:"Grade 2"},{l:"USA",t:"Sebring",la:"Sebring STT",g:"Grade 2"},{l:"England",t:"Silverstone",la:"Silverstone Historic 1975",g:"Historic"},{l:"England",t:"Silverstone",la:"Silverstone Historic 1975 (no chicane)",g:"Historic Alternate"},{l:"England",t:"Silverstone",la:"Silverstone Historic 1991",g:"Historic"},{l:"England",t:"Silverstone",la:"Silverstone Historic 2001",g:"Historic"},{l:"England",t:"Silverstone",la:"Silverstone International Historic 2001",g:"Historic Alternate"},{l:"England",t:"Silverstone",la:"Silverstone National Historic 2001",g:"Historic Alternate"},{l:"England",t:"Silverstone",la:"Silverstone",g:"Grade 1"},{l:"England",t:"Silverstone",la:"Silverstone International",g:"Ungraded"},{l:"England",t:"Silverstone",la:"Silverstone National",g:"Ungraded"},{l:"England",t:"Snetterton",la:"Snetterton 300",g:"Grade 2"},{l:"England",t:"Snetterton",la:"Snetterton 200",g:"Grade 2"},{l:"England",t:"Snetterton",la:"Snetterton 100",g:"Grade 4"},{l:"Belgium",t:"Spa-Francorchamps",la:"Spa-Francorchamps 1970",g:"Historic"},{l:"Belgium",t:"Spa-Francorchamps",la:"Spa-Francorchamps 1970 1000km",g:"Historic Alternate"},{l:"Belgium",t:"Spa-Francorchamps",la:"Spa-Francorchamps 1993",g:"Historic"},{l:"Belgium",t:"Spa-Francorchamps",la:"Spa-Francorchamps 2005",g:"Grade 1"},{l:"Belgium",t:"Spa-Francorchamps",la:"Spa-Francorchamps 2005 EC",g:"Grade 1"},{l:"Belgium",t:"Spa-Francorchamps",la:"Spa-Francorchamps 2020",g:"Grade 1"},{l:"Belgium",t:"Spa-Francorchamps",la:"Spa-Francorchamps 2022",g:"Grade 1"},{l:"Belgium",t:"Spa-Francorchamps",la:"Spa-Francorchamps RX",g:"Off-road"},{l:"Brazil",t:"Speedland",la:"Speedland Kart 1",g:"Kart"},{l:"Brazil",t:"Speedland",la:"Speedland Kart 2",g:"Kart"},{l:"Brazil",t:"Speedland",la:"Speedland Kart 3",g:"Kart"},{l:"Brazil",t:"Speedland",la:"Speedland Kart 4",g:"Kart"},{l:"Austria",t:"Spielberg (Red Bull Ring)",la:"Spielberg",g:"Grade 1"},{l:"Austria",t:"Spielberg (Red Bull Ring)",la:"Spielberg Historic 1977",g:"Historic"},{l:"Austria",t:"Spielberg (Red Bull Ring)",la:"Spielberg Short",g:"Ungraded"},{l:"Austria",t:"Spielberg (Red Bull Ring)",la:"Spielberg STT",g:"Grade 3"},{l:"Austria",t:"Spielberg (Red Bull Ring)",la:"Spielberg Historic 1974",g:"Historic"},{l:"Brazil",t:"Tarumã",la:"Tarumã International",g:"Grade 4"},{l:"Brazil",t:"Tarumã",la:"Tarumã Chicane",g:"Ungraded"},{l:"Argentina",t:"Termas de Río Hondo",la:"Termas de Río Hondo",g:"Grade 2"},{l:"Finland",t:"Tykki",la:"Tykki Dirt 1",g:"Off-road"},{l:"Finland",t:"Tykki",la:"Tykki Dirt 2",g:"Off-road"},{l:"Finland",t:"Tykki",la:"Tykki RX",g:"Off-road"},{l:"Finland",t:"Tykki",la:"Tykki Tarmac",g:"Off-road"},{l:"Brazil",t:"Velo Cittá",la:"Velo Cittá",g:"Grade 3"},{l:"Brazil",t:"Velo Cittá",la:"Velo Cittá Club Day",g:"Ungraded"},{l:"Brazil",t:"Velo Cittá",la:"Velo Cittá Track Day",g:"Ungraded"},{l:"Brazil",t:"Velopark",la:"Velopark 2010",g:"Ungraded"},{l:"Brazil",t:"Velopark",la:"Velopark 2017",g:"Grade 3"},{l:"Brazil",t:"Velopark",la:"Velopark 2017 STT",g:"Grade 3"},{l:"USA",t:"Virginia",la:"Virginia International Raceway Full",g:"Grade 2"},{l:"USA",t:"Virginia",la:"Virginia International Raceway Grand",g:"Ungraded"},{l:"USA",t:"Virginia",la:"Virginia International Raceway North",g:"Ungraded"},{l:"USA",t:"Virginia",la:"Virginia International Raceway Patriot",g:"Ungraded"},{l:"USA",t:"Virginia",la:"Virginia International Raceway South",g:"Ungraded"},{l:"USA",t:"Watkins Glen",la:"Watkins Glen GP",g:"Grade 2"},{l:"USA",t:"Watkins Glen",la:"Watkins Glen GP (Inner Loop)",g:"Grade 2"},{l:"USA",t:"Watkins Glen",la:"Watkins Glen Short",g:"Grade 2"},{l:"USA",t:"Watkins Glen",la:"Watkins Glen Short (Inner Loop)",g:"Grade 2"},{l:"USA",t:"Watkins Glen",la:"Watkins Glen STT",g:"Grade 2"}
        ],
        seasons: ['Frühling', 'Sommer', 'Herbst', 'Winter'],
        weather: ['Klar', 'Heiter', 'Wolkig', 'Bewölkt', 'Bedeckt', 'Sturm', 'Leichter Regen', 'Regen', 'Nebel mit Regen', 'Starker Nebel', 'Starknebel mit Regen', 'Diesig', 'Gewitter', 'Nebel'],
        times: ['08:00', '02:00', '03:00', '05:00', '06:00', '07:00', '09:00', '11:00', '13:00', '15:00', '17:00', '19:00', '21:00', '23:00', '10:00', '12:00', '14:00', '16:00', '18:00', '20:00', '22:00', '01:00', '04:00']
    };

    const genBtn = document.getElementById('genBtn');
    const status = document.getElementById('status');
    const loader = document.getElementById('loader');
    const pulse = document.getElementById('pulse');
    const sNum = document.getElementById('suggestion-num');
    const slider = document.getElementById('slider');
    const wrapper = document.getElementById('wrapper');
    const dotsDiv = document.getElementById('dots');

    async function generateRaces() {
        genBtn.disabled = true;
        wrapper.style.display = "none";
        dotsDiv.style.display = "none";
        sNum.style.display = "none";
        pulse.style.display = "none";
        loader.style.display = "block";
        status.textContent = "SYSTEM SCANNING...";

        await new Promise(r => setTimeout(r, 1800));

        let html = "";
        for(let i=0; i<3; i++) {
            // Zufälliges Auto wählen
            const car = db.cars[Math.floor(Math.random() * db.cars.length)];
            
            // Intelligenter Strecken-Filter basierend auf Klasse (car.c) und Jahr (car.y)
            let pool = db.tracks;
            if(car.c.includes("Rallycross") || car.c.includes("Dirt") || car.c.includes("RX")) {
                pool = db.tracks.filter(t => t.g === "Off-road");
            } else if(car.c.includes("Kart")) {
                pool = db.tracks.filter(t => t.g === "Kart");
            } else if(car.y < 1995) {
                pool = db.tracks.filter(t => t.g.includes("Historic"));
            } else {
                pool = db.tracks.filter(t => !["Off-road", "Kart"].includes(t.g));
            }

            // Fallback falls Pool leer
            if(pool.length === 0) pool = db.tracks;
            const track = pool[Math.floor(Math.random() * pool.length)];

            // WICHTIG: Hier nutzen wir jetzt die Abkürzungen car.n, car.c, track.l, track.t, track.la
            html += `
                <div class="race-card">
                    <div class="result-content">
                        <div class="res-item"><strong>Klasse</strong><span>${car.c}</span></div>
                        <div class="res-item"><strong>Fahrzeug</strong><span>${car.n}</span></div>
                        <div class="res-item"><strong>Land</strong><span>${track.l}</span></div>
                        <div class="res-item"><strong>Strecke</strong><span>${track.t}</span></div>
                        <div class="res-item"><strong>Layout</strong><span>${track.la}</span></div>
                        <div class="res-item"><strong>Jahreszeit</strong><span>${db.seasons[Math.floor(Math.random()*db.seasons.length)]}</span></div>
                        <div class="res-item"><strong>Wetter</strong><span>${db.weather[Math.floor(Math.random()*db.weather.length)]}</span></div>
                        <div class="res-item"><strong>Startzeit</strong><span>${db.times[Math.floor(Math.random()*db.times.length)]}</span></div>
                    </div>
                </div>`;
        }

        slider.innerHTML = html;
        wrapper.style.display = "block";
        dotsDiv.style.display = "flex";
        loader.style.display = "none";
        sNum.style.display = "block";
        sNum.textContent = "1";
        status.textContent = "SZENARIEN GELADEN";
        genBtn.disabled = false;
        genBtn.textContent = "Neu berechnen";
    }

    slider.addEventListener('scroll', () => {
        const index = Math.round(slider.scrollLeft / slider.offsetWidth);
        sNum.textContent = index + 1;
        const dots = document.querySelectorAll('.dot');
        dots.forEach((d, i) => d.classList.toggle('active', i === index));
    });

    genBtn.addEventListener('click', generateRaces);

    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('sw.js')
                .then(reg => console.log('Service Worker aktiv!'))
                .catch(err => console.log('SW Fehler:', err));
        });
    }
</script>
</body>
</html>








